{"ast":null,"code":"import products from './products.json';\n// Default wait time for api to return to simulate a real network call\nexport const API_DELAY_MS = 400;\n/**\n * Searches mocked product data for a product by id. Error cases included for completeness but\n * not exercised by assessment example.\n * @param productId \n * @returns product with id === productId\n */\n\nexport default function getProductByIdMock(productId) {\n  const filtered = products.filter(product => product.id === productId);\n\n  if (filtered.length === 0) {\n    return Promise.reject(new Error('Product not found'));\n  }\n\n  if (filtered.length > 1) {\n    return Promise.reject(new Error('Internal error: Product id not unique, multiple products found'));\n  }\n\n  return new Promise(resolve => setTimeout(() => resolve(filtered[0]), API_DELAY_MS));\n}","map":{"version":3,"sources":["/Users/cash/dev/stackline/src/mockApi/getProductByIdMock.ts"],"names":["products","API_DELAY_MS","getProductByIdMock","productId","filtered","filter","product","id","length","Promise","reject","Error","resolve","setTimeout"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,iBAArB;AA6BA;AACA,OAAO,MAAMC,YAAY,GAAG,GAArB;AAEP;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,kBAAT,CAA4BC,SAA5B,EAA0E;AACvF,QAAMC,QAAQ,GAAGJ,QAAQ,CAACK,MAAT,CAAgBC,OAAO,IAAIA,OAAO,CAACC,EAAR,KAAeJ,SAA1C,CAAjB;;AAEA,MAAIC,QAAQ,CAACI,MAAT,KAAoB,CAAxB,EAA2B;AACzB,WAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,mBAAV,CAAf,CAAP;AACD;;AACD,MAAIP,QAAQ,CAACI,MAAT,GAAkB,CAAtB,EAAyB;AACvB,WAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,gEAAV,CAAf,CAAP;AACD;;AAED,SAAO,IAAIF,OAAJ,CAAaG,OAAD,IAAaC,UAAU,CAAC,MAAMD,OAAO,CAACR,QAAQ,CAAC,CAAD,CAAT,CAAd,EAA6BH,YAA7B,CAAnC,CAAP;AACD","sourcesContent":["import products from './products.json';\n\nexport interface MockProductReviewModel {\n  readonly customer: string;\n  readonly review: string;\n  readonly score: number;\n}\n\nexport interface MockProductSaleModel {\n  readonly weekEnding: string;\n  readonly retailSales: number;\n  readonly wholesaleSales: number;\n  readonly unitsSold: number;\n  readonly retailerMargin: number;\n}\n\nexport interface MockProductModel {\n  readonly id: string;\n  readonly title: string;\n  readonly image: string;\n  readonly subtitle: string;\n  readonly brand: string;\n  readonly reviews: MockProductReviewModel[];\n  readonly retailer: string;\n  readonly details: string[];\n  readonly tags: string[];\n  readonly sales: MockProductSaleModel[];\n}\n\n// Default wait time for api to return to simulate a real network call\nexport const API_DELAY_MS = 400;\n\n/**\n * Searches mocked product data for a product by id. Error cases included for completeness but\n * not exercised by assessment example.\n * @param productId \n * @returns product with id === productId\n */\nexport default function getProductByIdMock(productId: string): Promise<MockProductModel> {\n  const filtered = products.filter(product => product.id === productId);\n\n  if (filtered.length === 0) {\n    return Promise.reject(new Error('Product not found'));\n  }\n  if (filtered.length > 1) {\n    return Promise.reject(new Error('Internal error: Product id not unique, multiple products found'));\n  }\n\n  return new Promise((resolve) => setTimeout(() => resolve(filtered[0]), API_DELAY_MS));\n}"]},"metadata":{},"sourceType":"module"}