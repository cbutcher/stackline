{"ast":null,"code":"var _jsxFileName = \"/Users/cash/dev/stackline/src/features/products/components/ProductSalesTable.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_SORT = {\n  key: 'weekEnding',\n  direction: 'DESC'\n};\n\nfunction getSaleComparator(_ref) {\n  let {\n    key,\n    direction\n  } = _ref;\n\n  if (key === 'weekEnding') {\n    const compareDate = (saleA, saleB) => {\n      const [dateA, dateB] = [new Date(saleA[key]), new Date(saleB[key])];\n\n      if (dateA < dateB) {\n        return -1;\n      } else if (dateA > dateB) {\n        return 1;\n      } else {\n        return 0;\n      }\n    };\n\n    const inversedCompareDate = (a, b) => -1 * compareDate(a, b);\n\n    return direction === 'ASC' ? compareDate : inversedCompareDate;\n  } else {\n    const compareNumber = (saleA, saleB) => {\n      return saleA[key] - saleB[key];\n    };\n\n    const inversedCompareNumber = (a, b) => -1 * compareNumber(a, b);\n\n    return direction === 'ASC' ? compareNumber : inversedCompareNumber;\n  }\n}\n\nexport default function ProductSalesTable(_ref2) {\n  _s();\n\n  let {\n    sales\n  } = _ref2;\n  const [sort, setSort] = useState(DEFAULT_SORT);\n\n  const updateSort = function (key) {\n    if (sort.key === key) {\n      setSort({\n        key: key,\n        direction: sort.direction === 'ASC' ? 'DESC' : 'ASC'\n      });\n    } else {\n      setSort({\n        key: key,\n        direction: DEFAULT_SORT.direction\n      });\n    }\n  };\n\n  const sorted = [...sales].sort(getSaleComparator(sort));\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        onClick: () => updateSort('weekEnding'),\n        scope: \"col\",\n        children: \"Week Ending\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        onClick: () => updateSort('retailSales'),\n        scope: \"col\",\n        children: \"Retail Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        onClick: () => updateSort('wholesaleSales'),\n        scope: \"col\",\n        children: \"Wholesale Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        onClick: () => updateSort('unitsSold'),\n        scope: \"col\",\n        children: \"Units Sold\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        onClick: () => updateSort('retailerMargin'),\n        scope: \"col\",\n        children: \"Retailer Margin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: sorted.map(sale => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.weekEnding\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.retailSales\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.wholesaleSales\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.unitsSold\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.retailerMargin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductSalesTable, \"nTRFspHsayRd1OPwXID4+KAaQjQ=\");\n\n_c = ProductSalesTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductSalesTable\");","map":{"version":3,"sources":["/Users/cash/dev/stackline/src/features/products/components/ProductSalesTable.tsx"],"names":["useState","DEFAULT_SORT","key","direction","getSaleComparator","compareDate","saleA","saleB","dateA","dateB","Date","inversedCompareDate","a","b","compareNumber","inversedCompareNumber","ProductSalesTable","sales","sort","setSort","updateSort","sorted","map","sale","weekEnding","retailSales","wholesaleSales","unitsSold","retailerMargin"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { ProductSaleModel } from \"../api/productModels\";\n\nexport interface ProductSalesTableProps {\n  readonly sales: ProductSaleModel[];\n}\n\ninterface Sort {\n  key: keyof ProductSaleModel;\n  direction: 'ASC' | 'DESC';\n}\n\nconst DEFAULT_SORT: Sort = {\n  key: 'weekEnding',\n  direction: 'DESC'\n};\n\nfunction getSaleComparator({ key, direction }: Sort): (a: ProductSaleModel, b: ProductSaleModel) => number {\n  if (key === 'weekEnding') {\n    const compareDate = (saleA: ProductSaleModel, saleB: ProductSaleModel) => {\n      const [dateA, dateB] = [new Date(saleA[key]), new Date(saleB[key])];\n      if (dateA < dateB) {\n        return -1;\n      } else if (dateA > dateB) {\n        return 1;\n      } else {\n        return 0;\n      }\n    }\n    const inversedCompareDate = (a: ProductSaleModel, b: ProductSaleModel) => (-1 * compareDate(a, b));\n    return direction === 'ASC' ? compareDate : inversedCompareDate;\n  } else {\n    const compareNumber = (saleA: ProductSaleModel, saleB: ProductSaleModel) => {\n      return saleA[key] - saleB[key];\n    }\n    const inversedCompareNumber = (a: ProductSaleModel, b: ProductSaleModel) => (-1 * compareNumber(a, b));\n    return direction === 'ASC' ? compareNumber : inversedCompareNumber;\n  }\n}\n\nexport default function ProductSalesTable({ sales }: ProductSalesTableProps) {\n  const [sort, setSort] = useState<Sort>(DEFAULT_SORT);\n\n  const updateSort = function(key: keyof ProductSaleModel) {\n    if (sort.key === key) {\n      setSort({\n        key: key,\n        direction: sort.direction === 'ASC' ? 'DESC' : 'ASC'\n      });\n    } else {\n      setSort({\n        key: key,\n        direction: DEFAULT_SORT.direction\n      });\n    }\n  }\n\n  const sorted = [...sales].sort(getSaleComparator(sort));\n\n  return (\n    <table>\n      <tr>\n        <th onClick={() => updateSort('weekEnding')} scope=\"col\">Week Ending</th>\n        <th onClick={() => updateSort('retailSales')} scope=\"col\">Retail Sales</th>\n        <th onClick={() => updateSort('wholesaleSales')} scope=\"col\">Wholesale Sales</th>\n        <th onClick={() => updateSort('unitsSold')} scope=\"col\">Units Sold</th>\n        <th onClick={() => updateSort('retailerMargin')} scope=\"col\">Retailer Margin</th>\n      </tr>\n      <tbody>\n        { sorted.map(sale => (\n          <tr>\n            <td>{ sale.weekEnding }</td>\n            <td>{ sale.retailSales }</td>\n            <td>{ sale.wholesaleSales }</td>\n            <td>{ sale.unitsSold }</td>\n            <td>{ sale.retailerMargin }</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}"]},"metadata":{},"sourceType":"module"}