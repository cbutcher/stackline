{"ast":null,"code":"var _jsxFileName = \"/Users/cash/dev/stackline/src/features/products/components/ProductSalesTable.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction getSaleComparator(_ref) {\n  let {\n    key,\n    direction\n  } = _ref;\n\n  if (key === 'weekEnding') {\n    const compareDate = (saleA, saleB) => {\n      const [dateA, dateB] = [new Date(saleA[key]), new Date(saleB[key])];\n\n      if (dateA < dateB) {\n        return -1;\n      } else if (dateA > dateB) {\n        return 1;\n      } else {\n        return 0;\n      }\n    };\n\n    const inversedCompareDate = (a, b) => -1 * compareDate(a, b);\n\n    return direction === 'DESC' ? compareDate : inversedCompareDate;\n  } else {\n    const compareNumber = (saleA, saleB) => {\n      return saleA[key] - saleB[key];\n    };\n\n    const inversedCompareNumber = (a, b) => -1 * compareNumber(a, b);\n\n    return direction === 'DESC' ? compareNumber : inversedCompareNumber;\n  }\n}\n\nexport default function ProductSalesTable(props) {\n  _s();\n\n  const [sales, setSales] = useState(props.sales);\n  const [sort, setSort] = useState({\n    key: 'weekEnding',\n    direction: 'DESC'\n  });\n\n  const sortSales = function (key) {\n    setSales(sales.sort(getSaleComparator(key)));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        scope: \"col\",\n        children: \"Week Ending\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        scope: \"col\",\n        children: \"Retail Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        scope: \"col\",\n        children: \"Wholesale Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        scope: \"col\",\n        children: \"Units Sold\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        scope: \"col\",\n        children: \"Retailer Margin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: sales.map(sale => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.weekEnding\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.retailSales\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.wholesaleSales\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.unitsSold\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: sale.retailerMargin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProductSalesTable, \"vin96PhiNNUFhaEqWsYg8UmXJOY=\");\n\n_c = ProductSalesTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductSalesTable\");","map":{"version":3,"sources":["/Users/cash/dev/stackline/src/features/products/components/ProductSalesTable.tsx"],"names":["useState","getSaleComparator","key","direction","compareDate","saleA","saleB","dateA","dateB","Date","inversedCompareDate","a","b","compareNumber","inversedCompareNumber","ProductSalesTable","props","sales","setSales","sort","setSort","sortSales","map","sale","weekEnding","retailSales","wholesaleSales","unitsSold","retailerMargin"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { ProductSaleModel } from \"../api/productModels\";\n\nexport interface ProductSalesTableProps {\n  readonly sales: ProductSaleModel[];\n}\n\ninterface Sort {\n  key: keyof ProductSaleModel;\n  direction: 'ASC' | 'DESC';\n}\n\nfunction getSaleComparator({ key, direction }: Sort): (a: ProductSaleModel, b: ProductSaleModel) => number {\n  if (key === 'weekEnding') {\n    const compareDate = (saleA: ProductSaleModel, saleB: ProductSaleModel) => {\n      const [dateA, dateB] = [new Date(saleA[key]), new Date(saleB[key])];\n      if (dateA < dateB) {\n        return -1;\n      } else if (dateA > dateB) {\n        return 1;\n      } else {\n        return 0;\n      }\n    }\n    const inversedCompareDate = (a: ProductSaleModel, b: ProductSaleModel) => (-1 * compareDate(a, b));\n    return direction === 'DESC' ? compareDate : inversedCompareDate;\n  } else {\n    const compareNumber = (saleA: ProductSaleModel, saleB: ProductSaleModel) => {\n      return saleA[key] - saleB[key];\n    }\n    const inversedCompareNumber = (a: ProductSaleModel, b: ProductSaleModel) => (-1 * compareNumber(a, b));\n    return direction === 'DESC' ? compareNumber : inversedCompareNumber;\n  }\n}\n\nexport default function ProductSalesTable(props: ProductSalesTableProps) {\n  const [sales, setSales] = useState<ProductSaleModel[]>(props.sales);\n  const [sort, setSort] = useState<Sort>({ key: 'weekEnding', direction: 'DESC' });\n\n  const sortSales = function(key: keyof ProductSaleModel) {\n    setSales(sales.sort(getSaleComparator(key)));\n  }\n\n  return (\n    <table>\n      <tr>\n        <th scope=\"col\">Week Ending</th>\n        <th scope=\"col\">Retail Sales</th>\n        <th scope=\"col\">Wholesale Sales</th>\n        <th scope=\"col\">Units Sold</th>\n        <th scope=\"col\">Retailer Margin</th>\n      </tr>\n      <tbody>\n        { sales.map(sale => (\n          <tr>\n            <td>{ sale.weekEnding }</td>\n            <td>{ sale.retailSales }</td>\n            <td>{ sale.wholesaleSales }</td>\n            <td>{ sale.unitsSold }</td>\n            <td>{ sale.retailerMargin }</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}"]},"metadata":{},"sourceType":"module"}